$(document).ready(function(){function t(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e}function i(e){clearInterval(r);r=setInterval(function(){if($(".done").length===20){window.alert("voce venceu");clearInterval(r)}},100);$(".game").html("");$(".username").fadeOut();n=0;var i=t(e),s=0,o=0,u=0,a=0;for(var f=0;f<i.length;f++){var l=i[f];s=u*60;o=a*60;$(".game").append('<div class="piece" data-profile="'+l.id+'" style="left:'+s+"px; top:"+o+'px"><img src="'+l.url+'"></div>');u++;if(u===4){u=0;a++}}$(".game").append('<button class="newGame">novo jogo</button>');$(".game").fadeIn()}var e="",n=0,r,s=!1,o=$(document);o.delegate(".game div","click",function(){if(!s){s=!0;if(!$(this).hasClass("flipped")&&!$(this).hasClass("done")){if(n<2){$(this).transition({perspective:"100px",rotateY:"180deg"});$(this).find("img").fadeIn(300);$(this).css({backgroundImage:"url(img/app/front.png)"});$(this).addClass("flipped");n++;s=!1}if(n===2){s=!0;n=0;$(".flipped").eq(0).attr("data-profile")===$(".flipped").eq(1).attr("data-profile")&&$(".flipped").addClass("done");setTimeout(function(){$(".flipped").removeClass("flipped");$(".game div").each(function(){if(!$(this).hasClass("done")){$(this).transition({perspective:"100px",rotateY:"0deg"});$(this).removeClass("flipped");$(this).css({backgroundImage:"url(img/app/back.png)"})}});s=!1},350);setTimeout(function(){$(".game div").each(function(){$(this).hasClass("done")||$(this).find("img").fadeOut(50)});s=!1},500)}}}});o.delegate("button.newGame","click",function(){$(".game").fadeOut(function(){i(e)})});setTimeout(function(){$(".splash").fadeOut()},1);var u;$("button.go").click(function(){u=$(".user").val();if(u==="")window.alert("Preencha seu @username");else{$(".user").val("Aguarde...");var t=new XMLHttpRequest({mozSystem:!0});t.open("GET","http://179.111.137.145/twitter/index.php",!0);t.responseType="json";t.send();t.onload=function(){e=t.response;i(e)}}})});